âœ… CONFIRMATION - TOUS LES PARAMÃˆTRES SONT MODIFIABLES
========================================================

## ğŸ›ï¸ PARAMÃˆTRES ADMIN - LISTE COMPLÃˆTE

### 1. MODE DE PAIEMENT âœ…
- DÃ©sactivÃ© / Optionnel / Obligatoire
- Modifiable Ã  tout moment

### 2. COMMISSIONS (%) âœ…
- Main d'Å“uvre: [0-20%] (dÃ©faut: 5%)
- MatÃ©riel: [0-20%] (dÃ©faut: 2%)
- DÃ©placement: [0-20%] (dÃ©faut: 5%)
- Modifiables Ã  tout moment

### 3. ACOMPTE ET SOLDE (%) âœ… â­ INCLUS
- Acompte: [0-100%] (dÃ©faut: 30%)
- Solde: CalculÃ© auto (dÃ©faut: 70%)
- Modifiables Ã  tout moment
- Validation: Acompte + Solde = 100%

### 4. DÃ‰LAI DE VALIDATION âœ… â­ INCLUS
- DÃ©lai validation travaux: [1-90 jours] (dÃ©faut: 7)
- AprÃ¨s ce dÃ©lai â†’ Auto-validation
- Modifiable Ã  tout moment

### 5. DÃ‰LAI DE PAIEMENT âœ…
- DÃ©lai paiement: [1-365 jours] (dÃ©faut: 30)
- Modifiable Ã  tout moment

### 6. GARANTIE (%) âœ…
- Pourcentage retenu: [0-20%] (dÃ©faut: 0 = dÃ©sactivÃ©)
- DurÃ©e garantie: [0-365 jours] (dÃ©faut: 30)
- Modifiables Ã  tout moment

### 7. PERMISSIONS PRESTATAIRES âœ…
- Activer/dÃ©sactiver paiement KaziPro
- Choisir Ã©lÃ©ments
- NÃ©gocier commission
- Modifier acompte
- Modifier dÃ©lais
- Modifiables Ã  tout moment

## ğŸ“Š INTERFACE ADMIN COMPLÃˆTE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ CONFIGURATION SYSTÃˆME DE PAIEMENT                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ ğŸ›ï¸ MODE DE PAIEMENT                                     â”‚
â”‚ â— Optionnel                                             â”‚
â”‚                                                         â”‚
â”‚ ğŸ’° COMMISSIONS (%)                                      â”‚
â”‚ Main d'Å“uvre: [5.00] % â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”    â”‚
â”‚ MatÃ©riel: [2.00] % â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”        â”‚
â”‚ DÃ©placement: [5.00] % â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”     â”‚
â”‚                                                         â”‚
â”‚ ğŸ“Š ACOMPTE ET SOLDE (%) â­ MODIFIABLE                   â”‚
â”‚ Acompte (avant travaux):                                â”‚
â”‚ [30] % â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”    â”‚
â”‚ 0%        25%        50%        75%              100%  â”‚
â”‚                                                         â”‚
â”‚ Solde (aprÃ¨s validation): 70% (calculÃ© auto)           â”‚
â”‚                                                         â”‚
â”‚ â±ï¸ DÃ‰LAIS (jours) â­ MODIFIABLES                        â”‚
â”‚ Validation des travaux:                                 â”‚
â”‚ [7] jours                                               â”‚
â”‚ AprÃ¨s ce dÃ©lai â†’ Auto-validation si pas de rÃ©ponse     â”‚
â”‚ RecommandÃ©: 3-14 jours                                  â”‚
â”‚                                                         â”‚
â”‚ DÃ©lai de paiement:                                      â”‚
â”‚ [30] jours                                              â”‚
â”‚ DÃ©lai maximum pour payer aprÃ¨s acceptation             â”‚
â”‚ RecommandÃ©: 15-30 jours                                 â”‚
â”‚                                                         â”‚
â”‚ ğŸ›¡ï¸ GARANTIE (optionnel)                                â”‚
â”‚ â˜ Activer le systÃ¨me de garantie                       â”‚
â”‚ Pourcentage retenu: [0] %                               â”‚
â”‚ DurÃ©e: [30] jours                                       â”‚
â”‚                                                         â”‚
â”‚ âœ… PERMISSIONS PRESTATAIRES                             â”‚
â”‚ â˜‘ Activer/dÃ©sactiver paiement via KaziPro              â”‚
â”‚ â˜‘ Choisir quels Ã©lÃ©ments passent par KaziPro           â”‚
â”‚ â˜ NÃ©gocier leur taux de commission                     â”‚
â”‚ â˜‘ Modifier le pourcentage d'acompte                    â”‚
â”‚ â˜‘ Modifier les dÃ©lais de validation                    â”‚
â”‚                                                         â”‚
â”‚ ğŸ“ RAISON DU CHANGEMENT                                 â”‚
â”‚ [Ajustement pour phase de lancement...]                â”‚
â”‚                                                         â”‚
â”‚ [Voir historique] [Restaurer dÃ©faut] [Enregistrer]    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ STRUCTURE BASE DE DONNÃ‰ES

### Table: configuration_paiement_globale
```sql
CREATE TABLE configuration_paiement_globale (
  id UUID PRIMARY KEY,
  
  -- Mode
  mode_paiement TEXT DEFAULT 'optionnel',
  
  -- Commissions (MODIFIABLES)
  commission_main_oeuvre DECIMAL(5,2) DEFAULT 5.00,
  commission_materiel DECIMAL(5,2) DEFAULT 2.00,
  commission_deplacement DECIMAL(5,2) DEFAULT 5.00,
  
  -- Acompte/Solde (MODIFIABLES) â­
  pourcentage_acompte_defaut INTEGER DEFAULT 30,
  pourcentage_solde_defaut INTEGER DEFAULT 70,
  
  -- DÃ©lais (MODIFIABLES) â­
  delai_validation_defaut INTEGER DEFAULT 7,  -- jours
  delai_paiement_defaut INTEGER DEFAULT 30,   -- jours
  
  -- Garantie (MODIFIABLE)
  pourcentage_garantie_defaut INTEGER DEFAULT 0,
  duree_garantie_defaut INTEGER DEFAULT 30,
  
  -- Permissions (MODIFIABLES)
  permettre_desactivation BOOLEAN DEFAULT true,
  permettre_choix_elements BOOLEAN DEFAULT true,
  permettre_negociation_commission BOOLEAN DEFAULT false,
  permettre_modification_acompte BOOLEAN DEFAULT true,
  permettre_modification_delais BOOLEAN DEFAULT true,
  
  -- TraÃ§abilitÃ©
  modified_by UUID,
  modified_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

## ğŸ¯ EXEMPLES D'UTILISATION

### Exemple 1: Lancement avec sÃ©curitÃ© minimale
```
Admin configure:
- Acompte: 20% (client garde plus de contrÃ´le)
- Solde: 80%
- DÃ©lai validation: 14 jours (plus de temps)
- Auto-validation: ActivÃ©e

RÃ©sultat:
- Client rassurÃ© (paie peu au dÃ©but)
- Prestataire protÃ©gÃ© (auto-validation aprÃ¨s 14j)
```

### Exemple 2: SÃ©curitÃ© maximale prestataire
```
Admin configure:
- Acompte: 50% (prestataire bien sÃ©curisÃ©)
- Solde: 50%
- DÃ©lai validation: 3 jours (rapide)
- Auto-validation: ActivÃ©e

RÃ©sultat:
- Prestataire trÃ¨s sÃ©curisÃ© (50% d'avance)
- Client doit valider vite (3 jours)
```

### Exemple 3: Ã‰quilibrÃ© (recommandÃ©)
```
Admin configure:
- Acompte: 30% (Ã©quilibrÃ©)
- Solde: 70%
- DÃ©lai validation: 7 jours (raisonnable)
- Auto-validation: ActivÃ©e

RÃ©sultat:
- Les deux parties protÃ©gÃ©es
- DÃ©lai raisonnable pour validation
```

### Exemple 4: Avec garantie
```
Admin configure:
- Acompte: 30%
- Solde: 65%
- Garantie: 5% (retenue 30 jours)
- DÃ©lai validation: 7 jours

RÃ©sultat:
- Client: 30% avant, 65% aprÃ¨s validation, 5% aprÃ¨s 30j
- Prestataire: IncitÃ© Ã  faire du bon travail
```

## ğŸ”„ FLUX SELON CONFIGURATION

### Configuration actuelle (exemple):
```
Acompte: 30%
Solde: 70%
DÃ©lai validation: 7 jours
Auto-validation: ActivÃ©e
```

### Flux:
```
1. Contrat signÃ©
2. Client paie ACOMPTE 30%
3. Prestataire fait les travaux
4. Prestataire marque "terminÃ©"
5. Client a 7 JOURS pour valider
   
   Option A: Client valide dans les 7 jours
   â†’ Solde 70% payable immÃ©diatement
   
   Option B: Client ne rÃ©pond pas aprÃ¨s 7 jours
   â†’ AUTO-VALIDATION automatique
   â†’ Solde 70% payable immÃ©diatement
   
   Option C: Client signale problÃ¨me
   â†’ Litige ouvert
   â†’ Solde bloquÃ© jusqu'Ã  rÃ©solution
```

## ğŸ“Š IMPACT DES MODIFICATIONS

### Si admin change Acompte de 30% â†’ 40%:
```
AVANT (30%):
- Acompte: 30,000 FC
- Solde: 70,000 FC

APRÃˆS (40%):
- Acompte: 40,000 FC
- Solde: 60,000 FC

Impact:
âœ… Prestataire plus sÃ©curisÃ© (+10,000 FC d'avance)
âš ï¸ Client paie plus au dÃ©but
```

### Si admin change DÃ©lai de 7 â†’ 3 jours:
```
AVANT (7 jours):
- Client a 7 jours pour valider
- Auto-validation aprÃ¨s 7 jours

APRÃˆS (3 jours):
- Client a 3 jours pour valider
- Auto-validation aprÃ¨s 3 jours

Impact:
âœ… Prestataire reÃ§oit paiement plus vite
âš ï¸ Client a moins de temps pour vÃ©rifier
```

## ğŸ›ï¸ PRESTATAIRE PEUT AUSSI MODIFIER (si admin autorise)

Si admin active "permettre_modification_acompte":

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MES PARAMÃˆTRES DE PAIEMENT                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚ ğŸ“Š ACOMPTE ET SOLDE                         â”‚
â”‚                                             â”‚
â”‚ Acompte: [40] % (dÃ©faut: 30%)               â”‚
â”‚ Solde: 60% (calculÃ© auto)                   â”‚
â”‚                                             â”‚
â”‚ â±ï¸ DÃ‰LAI DE VALIDATION                       â”‚
â”‚                                             â”‚
â”‚ DÃ©lai: [5] jours (dÃ©faut: 7)               â”‚
â”‚                                             â”‚
â”‚ [Enregistrer]                               â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… RÃ‰SUMÃ‰ COMPLET

### TOUS CES PARAMÃˆTRES SONT MODIFIABLES PAR L'ADMIN:

1. âœ… Mode de paiement (dÃ©sactivÃ©/optionnel/obligatoire)
2. âœ… Commission main d'Å“uvre (0-20%)
3. âœ… Commission matÃ©riel (0-20%)
4. âœ… Commission dÃ©placement (0-20%)
5. âœ… **Acompte (0-100%)** â­
6. âœ… **Solde (calculÃ© auto)** â­
7. âœ… **DÃ©lai validation (1-90 jours)** â­
8. âœ… **Auto-validation (activÃ©e/dÃ©sactivÃ©e)** â­
9. âœ… DÃ©lai paiement (1-365 jours)
10. âœ… Garantie pourcentage (0-20%)
11. âœ… Garantie durÃ©e (0-365 jours)
12. âœ… Toutes les permissions prestataires

### AVEC TRAÃ‡ABILITÃ‰:
- âœ… Historique complet
- âœ… Qui a modifiÃ©
- âœ… Quand
- âœ… Pourquoi
- âœ… Anciennes vs nouvelles valeurs
- âœ… Impact mesurÃ©

### AVEC VALIDATIONS:
- âœ… Acompte + Solde = 100%
- âœ… Commissions â‰¤ 20%
- âœ… DÃ©lais > 0
- âœ… Garantie â‰¤ Solde
- âœ… Confirmations si valeurs extrÃªmes

## ğŸ¯ CONCLUSION

**OUI, TOUT EST PARAMÃ‰TRABLE!** âœ…

L'admin peut modifier:
- âœ… Les commissions (5%, 2%, 5%)
- âœ… L'acompte (30%)
- âœ… Le solde (70%)
- âœ… Le dÃ©lai de validation (7 jours)
- âœ… L'auto-validation (activÃ©e)
- âœ… Tout le reste!

Ã€ TOUT MOMENT, avec historique complet! ğŸ›ï¸

